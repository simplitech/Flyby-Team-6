(this["webpackJsonpn3-smart-contract-web-app"]=this["webpackJsonpn3-smart-contract-web-app"]||[]).push([[0],{35:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(29),o=n.n(a),i=(n(35),n(9)),s=n.n(i),j=n(19),b=n(8),u=n(11),d=n.n(u),l=n(13),f=n(2),h=n.p+"static/media/logo.49aa5273.svg",O=n.p+"static/media/1.bd030e55.jpg",p=(n.p,n.p,n(60),n(1));function x(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(b.a)(a,2),i=o[0],l=o[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),x=O[0],g=O[1],m=Object(c.useState)(!1),v=Object(b.a)(m,2),k=v[0],w=v[1],S="https://testnet1.neo.coz.io",C=Object(f.f)();function y(e){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.a.experimental.SmartContract(d.a.u.HexString.fromHex("0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381"),{networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount}),e.next=3,n.invoke("request_image_change",[]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(j.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new u.wallet.Account(n),c={fromAccount:t,tokenScriptHash:"0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381",amountToTransfer:.1,systemFee:0,networkFee:0,networkMagic:844378958,nodeUrl:S},g(!0),y(c).then((function(){g(!1),C.push("/")})).catch((function(e){console.error(e),g(!1),r(""),l(!1),w(e.message||e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){u.wallet.isWIF(n)&&l(!0)}),[n]),Object(p.jsx)(p.Fragment,{children:x?Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"Invoking the smart contract..."})}):i?Object(p.jsx)("button",{onClick:function(){return I.apply(this,arguments)},children:" CLICK TO INVOKE "}):Object(p.jsxs)("form",{children:[k&&Object(p.jsxs)("code",{id:"error",children:[" ",k," "]}),Object(p.jsx)("label",{children:"Enter private key below to invoke contract:"}),Object(p.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"text"})]})})}function g(e){var t=e.invokeDetected;return Object(p.jsx)("div",{id:"frame-container",children:Object(p.jsx)("div",{id:"frame",children:t&&Object(p.jsx)("img",{className:"animate-flicker ",src:O,id:"hero",alt:"flickering-hero"})})})}var m=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(b.a)(a,2),i=o[0],s=o[1];return Object(c.useEffect)((function(){new WebSocket("wss://dora.coz.io/ws/v1/neo3/testnet/log/0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381").onmessage=function(e){console.log("incoming socket event:",{event:e});var t=JSON.parse(e.data);r(t.height),t.log&&t.log.notifications.find((function(e){return"ChangeImage"===e.event_name}))&&(s(!0),setTimeout((function(){s(!1)}),1e4))}})),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("img",{id:"neo-logo",src:h,alt:"n3-logo"}),Object(p.jsx)(l.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{children:[Object(p.jsxs)("code",{children:[" ","websocket connection to dora live: current block height:"," ",n]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/",children:"Party time"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/invoke-contract",children:"Invoke Contract"})})]})]}),Object(p.jsxs)(f.c,{children:[Object(p.jsx)(f.a,{path:"/invoke-contract",children:Object(p.jsx)(x,{})}),Object(p.jsx)(f.a,{path:"/",children:Object(p.jsx)(g,{invokeDetected:i})})]})]})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(m,{})}),document.getElementById("root")),v()}},[[66,1,2]]]);
//# sourceMappingURL=main.d76ea71d.chunk.js.map