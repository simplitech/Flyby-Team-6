(this["webpackJsonpn3-smart-contract-web-app"]=this["webpackJsonpn3-smart-contract-web-app"]||[]).push([[0],{40:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(13),r=a.n(s),i=(a(40),a(4)),o=a(8),l=a.n(o),d=a(10),b=a(3),u=(a(65),a(1));var j=function(e){var t=e.setInvokeDetected,a=void 0===t?function(){return null}:t,n=Object(c.useState)(0),s=Object(i.a)(n,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){new WebSocket("wss://dora.coz.io/ws/v1/neo3/testnet/log/".concat(U)).onmessage=function(e){console.log("incoming socket event:",{event:e});var t=JSON.parse(e.data);o(t.height),t.log&&t.log.notifications.find((function(e){return"ChangeImage"===e.event_name}))&&(a(!0),setTimeout((function(){a(!1)}),7500))}})),Object(u.jsxs)("code",{className:"bg-darkGrey",children:[" ","websocket connection to dora:"," ",0===r?Object(u.jsx)("b",{children:"dead"}):Object(u.jsx)("b",{children:"live"}),Object(u.jsx)("br",{})," current block height: ",r]})},p=a.p+"static/media/coz_logo.1a7460b3.svg";var m=function(){return Object(u.jsx)("footer",{class:"bg-darkGrey flex justify-center  h-20 border-t border-highlight cursor-pointer",children:Object(u.jsx)("img",{src:p})})},x=a.p+"static/media/desktop_logo.1e160d67.svg",h=a.p+"static/media/logo.49aa5273.svg";a(67);var f=function(e){e.fixed;var t=n.a.useState(!1),a=Object(i.a)(t,2),c=a[0],s=a[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 mb-3 border-b border-highlight bg-darkGrey pb-5",children:Object(u.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(u.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(u.jsxs)("div",{className:"flex items-end",children:[Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("img",{className:"desktop-navigation cursor-pointer",src:x})}),Object(u.jsx)("a",{href:"https://neo.org/",target:"_blank",children:Object(u.jsx)("img",{className:"desktop-navigation-n3-logo ml-1 -mb-1 cursor-pointer",src:h})})]}),Object(u.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return s(!c)},children:Object(u.jsx)("i",{className:"fas fa-bars"})})]}),Object(u.jsx)("div",{className:"lg:flex flex-grow items-center"+(c?" flex":" hidden"),id:"example-navbar-danger",children:Object(u.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"About"})})}),Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/place-bet",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"Place bet"})})}),Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/results",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"Results"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",href:"#pablo",children:[Object(u.jsx)("i",{className:"fab fa-github text-lg leading-lg text-white opacity-75"}),Object(u.jsx)("span",{className:"ml-2",children:"github "})]})})]})})]})})})},g=a.p+"static/media/boa.4c7e0b20.svg",O=a.p+"static/media/dora.00d834bd.svg",v=a.p+"static/media/neonjs.c9410845.svg";var N=function(){return Object(u.jsxs)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10",children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{className:"italic text-xl mr-1",children:"BET ON"})," is a decentralized application built on top of the NEO blockchain for the COZ \u201cflyby hackathon\u201d. Its purpose is to create a fun blockchain application that demonstrates the wide variety of development tools available to the community allowing developers to create virutally any dApp they can imagine on NEO."]}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["This dApp was created by"," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"meevee98"}),","," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"rssavietto"})," ","and"," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"comountainclimber"}),". And leverages the following open source tools built by COZ:"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"flex justify-evenly flex-wrap",children:[Object(u.jsx)("img",{className:"cursor-pointer",src:g}),Object(u.jsx)("img",{className:"cursor-pointer",src:O}),Object(u.jsx)("img",{className:"cursor-pointer",src:v})]})]})},y=a(12),w=a.n(y),k=a(25),S=a(26),C=l.a.experimental.txHelpers,A=C.addFees,E=C.setBlockExpiry,T="CONNECT",I="CONFIRM ";function G(e){var t=e.handleUpdateStep,a=e.setWif,n=Object(c.useState)(""),s=Object(i.a)(n,2),r=s[0],l=s[1];return Object(c.useEffect)((function(){o.wallet.isWIF(r)&&(t("BET"),a(r))}),[r,t,a]),Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 1:"}),Object(u.jsxs)("p",{className:"text-left mt-2",children:[" ","Connect your wallet to the daPP by using wallet connect or by entering in your private key below:"," "]}),Object(u.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Enter private key here...",class:"px-3 py-3 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring focus:ring-highlight w-full"})]})}function P(e){var t=e.config,a=e.handleUpdateStep,n=e.passOptionInfo,s=Object(c.useState)([]),r=Object(i.a)(s,2),d=r[0],b=r[1],j=Object(c.useState)(null),p=Object(i.a)(j,2),m=p[0],x=p[1],h=Object(c.useState)(null),f=Object(i.a)(h,2),g=f[0],O=f[1],v=Object(c.useState)(!0),N=Object(i.a)(v,2),y=N[0],C=N[1],T=Object(c.useState)(""),G=Object(i.a)(T,2),P=G[0],B=G[1];function F(e){var t=e.value[0].value;return console.log({data:t}),{name:atob(t[2].value),options:t[3].value.map((function(e){var t=e.value;return{id:t,label:atob(t)}})),id:t[0].value}}function M(){return(M=Object(k.a)(w.a.mark((function e(){var c,s,r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,c=new o.rpc.RPCClient(t.nodeUrl),s={networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount},(r=new o.sc.ScriptBuilder).emitAppCall(U,"bet",[{type:"Hash160",value:t.fromAccount.scriptHash},{type:"ByteArray",value:m.id},{type:"String",value:g.label}]),(i=new o.tx.Transaction).script=o.u.HexString.fromHex(r.build()),e.next=10,E(i,s);case 10:return i.addSigner({account:t.fromAccount.scriptHash,scopes:"Global"}),e.next=13,A(i,s);case 13:return i.sign(t.fromAccount,t.networkMagic),e.next=16,c.sendRawTransaction(i);case 16:C(!1),a(I),n({poolName:m.name,option:g.label}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),C(!1),console.error({e:e.t0}),B(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(k.a)(w.a.mark((function e(){var a,c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,a=new l.a.experimental.SmartContract(l.a.u.HexString.fromHex(U),{networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount}),e.next=5,a.testInvoke("list_on_going_pools",[]);case 5:c=e.sent,n=c.stack.map(F),console.log("getPools() results: ",{results:c,pools:n}),b(n),C(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),C(!1),console.error({e:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 2:"}),y?Object(u.jsx)("p",{className:"mt-5",children:" Submitting data to the blockchain... "}):Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"ADDRESS:"}),Object(u.jsx)("a",{className:"flex text-highlight cursor-pointer text-left mb-5",target:"_blank",href:"https://dora.coz.io/address/neo3/mainnet/".concat(t.fromAccount.address),children:t.fromAccount.address}),Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"BETTING POOL:"}),Object(u.jsx)(S.a,{isSearchable:!1,value:m?{value:m.id,label:m.name}:null,getOptionValue:function(e){return e.id},onChange:function(e){var t=d.find((function(t){return t.name===e.label}));x(t)},placeholder:"Select pool...",options:d.map((function(e){return{value:e.id,label:e.name}}))}),Object(u.jsx)("br",{}),Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"BET:"}),Object(u.jsx)(S.a,{isSearchable:!1,value:g,onChange:function(e){O(e)},placeholder:"Select option...",isDisabled:!m,options:m?m.options:[],getOptionValue:function(e){return e.id}}),P&&Object(u.jsx)("p",{className:"text-red-500 text-sm mt-4",children:P}),Object(u.jsx)("button",{onClick:function(){return M.apply(this,arguments)},disabled:!m&&!g||P,className:"bg-highlight text-white font-bold py-2 px-4 rounded mt-7 disabled:opacity-50 ".concat(m||g?"cursor-pointer":"cursor-not-allowed"),children:"PLACE BET"})]})]})}function B(e){var t=e.config,a=e.selectedOptionInfo;return Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 3:"}),Object(u.jsxs)("p",{className:"text-left mt-2",children:[Object(u.jsx)("span",{className:"text-3xl",children:"\ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("a",{className:"text-highlight cursor-pointer text-left mb-5",target:"_blank",href:"https://dora.coz.io/address/neo3/mainnet/".concat(t.fromAccount.address),children:t.fromAccount.address})," ",'has bet on "',a.option,'" for betting pool "',a.poolName,'". Good luck!']})]})}var F=function(){var e=Object(c.useState)(T),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(c.useState)({poolName:"",option:""}),j=Object(i.a)(b,2),p=j[0],m=j[1],x={fromAccount:l&&new o.wallet.Account(l),tokenScriptHash:U,amountToTransfer:.1,systemFee:0,networkFee:0,networkMagic:844378958,nodeUrl:"https://testnet1.neo.coz.io"};return Object(u.jsx)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10",children:function(e){switch(!0){case e===T:return Object(u.jsx)(G,{handleUpdateStep:n,setWif:d});case"BET"===e:return Object(u.jsx)(P,{handleUpdateStep:n,config:x,passOptionInfo:function(e){var t=e.poolName,a=e.option;return m({poolName:t,option:a})}});case e===I:return Object(u.jsx)(B,{selectedOptionInfo:p,config:x});default:return Object(u.jsx)(G,{handleUpdateStep:n,setWif:d})}}(a)})};var M=function(){return Object(u.jsx)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10"})},H=[a.p+"static/media/1.bd030e55.jpg",a.p+"static/media/2.d3d44706.jpg",a.p+"static/media/3.ebbe5071.png",a.p+"static/media/4.f6abd800.png"],U="0xa9ab4ea48570270b4c4c9b47a97340f545dfd9a8";var _=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){l(H[Math.floor(Math.random()*H.length)])}),[a]),Object(u.jsxs)("div",{className:"App bg-darkGrey flex flex-col h-screen justify-between",children:[Object(u.jsxs)(d.a,{children:[Object(u.jsx)("div",{children:Object(u.jsx)(f,{})}),Object(u.jsxs)("main",{className:"mb-auto h-full ".concat(a?"animate-flicker":""),style:a?{backgroundImage:"url("+o+")",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"repeat"}:{},children:[Object(u.jsx)(j,{setInvokeDetected:n}),Object(u.jsx)("div",{children:!a&&Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{path:"/place-bet",children:Object(u.jsx)(F,{})}),Object(u.jsx)(b.a,{path:"/results",children:Object(u.jsx)(M,{})}),Object(u.jsx)(b.a,{path:"/",children:Object(u.jsx)(N,{})})]})})]})]}),Object(u.jsx)(m,{})]})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),z()}},[[82,1,2]]]);
//# sourceMappingURL=main.96674eeb.chunk.js.map