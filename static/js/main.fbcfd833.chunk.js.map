{"version":3,"sources":["logo.svg","1.jpg","2.jpg","3.png","easel.svg","App.js","reportWebVitals.js","index.js"],"names":["Invoke","useState","wif","setWif","isValidWif","setIsValidWif","processing","setProcessing","nodeURL","performInvoke","inputs","a","contract","Neon","experimental","SmartContract","u","HexString","fromHex","networkMagic","rpcAddress","nodeUrl","account","fromAccount","invoke","from","wallet","Account","tokenScriptHash","amountToTransfer","systemFee","networkFee","then","useEffect","isWIF","onClick","onChange","e","target","value","type","Home","invokeDetected","id","className","src","hero1","App","currentBlock","setCurrenBlock","setInvokeDetected","WebSocket","onmessage","event","data","JSON","parse","height","log","notifications","find","event_name","setTimeout","console","Logo","to","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0SAAe,MAA0B,iCCA1B,MAA0B,8B,GCA1B,ICAA,ICAA,I,YC4Ef,SAASA,IAAU,IAAD,EACMC,mBAAS,IADf,mBACTC,EADS,KACJC,EADI,OAEoBF,oBAAS,GAF7B,mBAETG,EAFS,KAEGC,EAFH,OAGoBJ,oBAAS,GAH7B,mBAGTK,EAHS,KAGGC,EAHH,KAIVC,EAAU,8BAJA,SAYDC,EAZC,8EAYhB,WAA6BC,GAA7B,eAAAC,EAAA,6DACQC,EAAW,IAAIC,IAAKC,aAAaC,cACrCF,IAAKG,EAAEC,UAAUC,QAAQ,8CACzB,CACEC,aAAcT,EAAOS,aACrBC,WAAYV,EAAOW,QACnBC,QAASZ,EAAOa,cANtB,SASQX,EAASY,OAAO,uBAAwB,IAThD,4CAZgB,kEAwBhB,8BAAAb,EAAA,sDACQc,EAAO,IAAIC,SAAOC,QAAQzB,GAC1BQ,EAAS,CACba,YAAaE,EACbG,gBAAiB,6CACjBC,iBAAkB,GAClBC,UAAW,EACXC,WAAY,EACZZ,aAAc,UACdE,QAASb,GAGXD,GAAc,GACdE,EAAcC,GAAQsB,MAAK,WACzBzB,GAAc,MAdlB,4CAxBgB,sBA0ChB,OApCA0B,qBAAU,WACJP,SAAOQ,MAAMhC,IACfG,GAAc,KAEf,CAACH,IAiCF,mCACGI,EACC,8BACE,iEAEAF,EACF,wBAAQ+B,QAjDE,2CAiDV,+BAEA,iCACE,uBAAOC,SAAU,SAACC,GAAD,OAAOlC,EAAOkC,EAAEC,OAAOC,QAAQC,KAAK,SACrD,uBAAOA,KAAK,gBAOtB,SAASC,EAAT,GAAmC,IAAnBC,EAAkB,EAAlBA,eACd,OACE,qBAAKC,GAAG,kBAAR,SACE,qBAAKA,GAAG,QAAR,SACGD,GACC,qBAAKE,UAAU,mBAAmBC,IAAKC,EAAOH,GAAG,aAO5CI,MAvIf,WAAgB,IAAD,EAC0B9C,mBAAS,GADnC,mBACN+C,EADM,KACQC,EADR,OAE+BhD,oBAAS,GAFxC,mBAENyC,EAFM,KAEUQ,EAFV,KAyBb,OArBAjB,qBAAU,WACO,IAAIkB,UAAJ,uFAGRC,UAAY,SAAUC,GAC3B,IAAMC,EAAOC,KAAKC,MAAMH,EAAMC,MAC9BL,EAAeK,EAAKG,QAElBH,EAAKI,KACLJ,EAAKI,IAAIC,cAAcC,MAAK,SAACvB,GAAD,MAAwB,gBAAjBA,EAAEwB,gBAErCX,GAAkB,GAClBY,YAAW,WACTZ,GAAkB,KACjB,UAKTa,QAAQL,IAAI,CAAEhB,mBAGZ,sBAAKE,UAAU,MAAf,UACE,qBAAKD,GAAG,WAAWE,IAAKmB,IACxB,cAAC,IAAD,UACE,gCACE,gCACE,iCACG,IADH,2DAE2D,IACxDhB,KAEH,+BACE,6BACE,cAAC,IAAD,CAAMiB,GAAG,IAAT,0BAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,mBAAT,qCAON,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,mBAAZ,SACE,cAAClE,EAAD,MAGF,cAAC,IAAD,CAAOkE,KAAK,IAAZ,SACE,cAACzB,EAAD,CAAMC,eAAgBA,kBCvDrByB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrC,MAAK,YAAkD,IAA/CsC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.fbcfd833.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.49aa5273.svg\";","export default __webpack_public_path__ + \"static/media/1.bd030e55.jpg\";","export default __webpack_public_path__ + \"static/media/2.d3d44706.jpg\";","export default __webpack_public_path__ + \"static/media/3.ebbe5071.png\";","export default __webpack_public_path__ + \"static/media/easel.9fb2847a.svg\";","import Neon, { wallet } from \"@cityofzion/neon-js\";\nimport { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport Logo from \"./logo.svg\";\nimport hero1 from \"./1.jpg\";\nimport hero2 from \"./2.jpg\";\nimport hero3 from \"./3.png\";\nimport Easel from \"./easel.svg\";\nimport \"./App.css\";\n\nconst images = [hero1, hero2, hero3];\n\nfunction App() {\n  const [currentBlock, setCurrenBlock] = useState(0);\n  const [invokeDetected, setInvokeDetected] = useState(false);\n\n  useEffect(() => {\n    const socket = new WebSocket(\n      `wss://dora.coz.io/ws/v1/neo3/testnet/log/0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381`\n    );\n    socket.onmessage = function (event) {\n      const data = JSON.parse(event.data);\n      setCurrenBlock(data.height);\n      if (\n        data.log &&\n        data.log.notifications.find((e) => e.event_name === \"ChangeImage\")\n      ) {\n        setInvokeDetected(true);\n        setTimeout(() => {\n          setInvokeDetected(false);\n        }, 10000);\n      }\n    };\n  });\n\n  console.log({ invokeDetected });\n\n  return (\n    <div className=\"App\">\n      <img id=\"neo-logo\" src={Logo} />\n      <Router>\n        <div>\n          <nav>\n            <code>\n              {\" \"}\n              websocket connection to dora live: current block height:{\" \"}\n              {currentBlock}\n            </code>\n            <ul>\n              <li>\n                <Link to=\"/\">Party time</Link>\n              </li>\n              <li>\n                <Link to=\"/invoke-contract\">Invoke Contract</Link>\n              </li>\n            </ul>\n          </nav>\n\n          {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n          <Switch>\n            <Route path=\"/invoke-contract\">\n              <Invoke />\n            </Route>\n\n            <Route path=\"/\">\n              <Home invokeDetected={invokeDetected} />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nfunction Invoke() {\n  const [wif, setWif] = useState(\"\");\n  const [isValidWif, setIsValidWif] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const nodeURL = \"https://testnet1.neo.coz.io\";\n\n  useEffect(() => {\n    if (wallet.isWIF(wif)) {\n      setIsValidWif(true);\n    }\n  }, [wif]);\n\n  async function performInvoke(inputs) {\n    const contract = new Neon.experimental.SmartContract(\n      Neon.u.HexString.fromHex(\"0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381\"),\n      {\n        networkMagic: inputs.networkMagic,\n        rpcAddress: inputs.nodeUrl,\n        account: inputs.fromAccount,\n      }\n    );\n    await contract.invoke(\"request_image_change\", []);\n  }\n\n  async function handleInvoke() {\n    const from = new wallet.Account(wif);\n    const inputs = {\n      fromAccount: from,\n      tokenScriptHash: \"0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381\",\n      amountToTransfer: 0.1,\n      systemFee: 0,\n      networkFee: 0,\n      networkMagic: 844378958,\n      nodeUrl: nodeURL,\n    };\n\n    setProcessing(true);\n    performInvoke(inputs).then(() => {\n      setProcessing(false);\n    });\n  }\n\n  return (\n    <>\n      {processing ? (\n        <div>\n          <p>Invoking the smart contract...</p>\n        </div>\n      ) : isValidWif ? (\n        <button onClick={handleInvoke}> CLICK TO INVOKE </button>\n      ) : (\n        <form>\n          <input onChange={(e) => setWif(e.target.value)} type=\"text\"></input>\n          <input type=\"submit\"></input>\n        </form>\n      )}\n    </>\n  );\n}\n\nfunction Home({ invokeDetected }) {\n  return (\n    <div id=\"frame-container\">\n      <div id=\"frame\">\n        {invokeDetected && (\n          <img className=\"animate-flicker \" src={hero1} id=\"hero\" />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}