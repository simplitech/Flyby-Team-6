(this["webpackJsonpn3-smart-contract-web-app"]=this["webpackJsonpn3-smart-contract-web-app"]||[]).push([[0],{40:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=a.n(r),l=(a(40),a(4)),i=a(8),o=a.n(i),d=a(10),b=a(3),u=(a(65),a(1));var p=function(e){var t=e.setInvokeDetected,a=void 0===t?function(){return null}:t,c=Object(n.useState)(0),r=Object(l.a)(c,2),s=r[0],i=r[1];return Object(n.useEffect)((function(){new WebSocket("wss://dora.coz.io/ws/v1/neo3/testnet/log/".concat(U)).onmessage=function(e){console.log("incoming socket event:",{event:e});var t=JSON.parse(e.data);i(t.height),t.log&&t.log.notifications.find((function(e){return"ChangeImage"===e.event_name}))&&(a(!0),setTimeout((function(){a(!1)}),7500))}})),Object(u.jsxs)("code",{className:"bg-darkGrey",children:[" ","websocket connection to dora:"," ",0===s?Object(u.jsx)("b",{children:"dead"}):Object(u.jsx)("b",{children:"live"}),Object(u.jsx)("br",{})," current block height: ",s]})};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var h=n.createElement("defs",null,n.createElement("filter",{id:"filter-1"},n.createElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0 0 0 0 0.933333 0 0 0 0 0.933333 0 0 0 0 0.933333 0 0 0 1.000000 0"}))),x=n.createElement("g",{id:"Welcome",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"coz_logo",transform:"translate(-669.000000, -963.000000)",filter:"url(#filter-1)"},n.createElement("g",{transform:"translate(669.000000, 963.000000)"},n.createElement("g",{id:"Group-8",transform:"translate(1.304087, 1.208729)",stroke:"#FFFFFF",strokeWidth:1.58538953},n.createElement("rect",{id:"Rectangle-Copy-7",x:321964677e-23,y:555111512e-24,width:100.511444,height:29.1319156})),n.createElement("g",{id:"Group",transform:"translate(38.259952, 8.463661)",fill:"#FFFFFF",fillRule:"nonzero"},n.createElement("polygon",{id:"Path",stroke:"#FFFFFF",strokeWidth:.5,points:"53.0893182 0.276006124 53.0893182 2.70675269 44.221939 11.6701306 53.0893182 11.6701306 53.0893182 14.4654892 40.5099214 14.4654892 40.5099214 12.0347426 49.317366 3.101749 40.9972588 3.101749 40.9972588 0.276006124"}),n.createElement("path",{d:"M27.634512,3.08642001e-12 C31.584222,3.08642001e-12 34.9876955,3.3978139 34.9876955,7.34095596 C34.9876955,11.284098 31.584222,14.6819119 27.634512,14.6819119 C23.6848021,14.6819119 20.2813286,11.284098 20.2813286,7.34095596 C20.2813286,3.3978139 23.6848021,3.08642001e-12 27.634512,3.08642001e-12 Z M27.634512,3.12514982 C25.428557,3.12514982 23.4326929,5.11769501 23.4326929,7.3199818 C23.4326929,9.52226859 25.428557,11.5357879 27.634512,11.5357879 C29.8404671,11.5357879 31.8363312,9.52226859 31.8363312,7.3199818 C31.8363312,5.11769501 29.8404671,3.12514982 27.634512,3.12514982 Z",id:"Combined-Shape"}),n.createElement("path",{d:"M10.8406934,9.63556736 L14.3492123,9.63556736 C13.3827939,12.5719497 10.6095933,14.6903399 7.35318347,14.6903399 C3.29842802,14.6903399 -1.34718887e-13,11.3973968 -1.34718887e-13,7.34938393 C-1.34718887e-13,3.30137108 3.29842802,0.00842797391 7.35318347,0.00842797391 C10.6095933,0.00842797391 13.3617848,2.10584396 14.3282032,5.02125219 L10.8196843,5.02125219 C10.2314296,3.74182843 8.80281107,2.94481036 7.35318347,2.94481036 C5.04218295,2.94481036 3.19338254,4.93735555 3.19338254,7.34938393 C3.19338254,9.78238648 5.04218295,11.7539575 7.35318347,11.7539575 C8.82382017,11.7539575 10.2524387,10.894017 10.8406934,9.63556736 Z",id:"Path",stroke:"#FFFFFF",strokeWidth:.5})),n.createElement("path",{d:"M30.1965411,0.263418007 L30.727823,30.8577755 L0.800516955,31.3828549 L0.269235035,0.788497404 L30.1965411,0.263418007 Z M7.1894228,11.7940991 L4.42959567,14.6519838 L10.0864086,20.1134156 L4.56646441,25.8301938 L10.1545531,25.7035295 L15.6742073,19.9877602 L7.1894228,11.7940991 Z M23.8726452,17.0519955 L18.4174814,22.711388 L23.9241416,22.6210105 L26.7019118,19.7012738 L23.8726452,17.0519955 Z M18.2565538,5.94855079 L15.4968341,8.80525016 L12.6684652,6.07521507 L9.90863806,8.93309972 L18.3934226,17.1267608 L21.1532497,14.2688762 L18.3252781,11.5366469 L21.0848153,8.67977117 L18.2565538,5.94855079 Z",id:"Combined-Shape",fill:"#FFFFFF",fillRule:"nonzero",transform:"translate(15.498529, 15.823136) rotate(1.000000) translate(-15.498529, -15.823136) "}))));function f(e,t){var a=e.title,c=e.titleId,r=j(e,["title","titleId"]);return n.createElement("svg",m({width:"103px",height:"32px",viewBox:"0 0 103 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},r),void 0===a?n.createElement("title",{id:c},"coz_logo"):a?n.createElement("title",{id:c},a):null,h,x)}var g=n.forwardRef(f);a.p;var O=function(){return Object(u.jsx)("footer",{class:"bg-darkGrey flex justify-center  h-20 border-t border-highlight cursor-pointer",children:Object(u.jsx)(g,{})})},v=a.p+"static/media/desktop_logo.7bba3a79.png",y=a.p+"static/media/logo.49aa5273.svg";a(67);var w=function(e){e.fixed;var t=c.a.useState(!1),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 mb-3 border-b border-highlight bg-darkGrey pb-5",children:Object(u.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(u.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(u.jsxs)("div",{className:"flex items-end",children:[Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("img",{className:"desktop-navigation cursor-pointer",src:v})}),Object(u.jsx)("a",{href:"https://neo.org/",target:"_blank",children:Object(u.jsx)("img",{className:"desktop-navigation-n3-logo ml-1 -mb-1 cursor-pointer",src:y})})]}),Object(u.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return r(!n)},children:Object(u.jsx)("i",{className:"fas fa-bars"})})]}),Object(u.jsx)("div",{className:"lg:flex flex-grow items-center"+(n?" flex":" hidden"),id:"example-navbar-danger",children:Object(u.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"About"})})}),Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/place-bet",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"Place bet"})})}),Object(u.jsx)("li",{className:"nav-item primary-nav-item",children:Object(u.jsx)(d.c,{exact:!0,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",to:"/results",activeClassName:"border-b-2 border-highlight rounded-sm",children:Object(u.jsx)("span",{className:"ml-2",children:"Results"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",href:"#pablo",children:[Object(u.jsx)("i",{className:"fab fa-github text-lg leading-lg text-white opacity-75"}),Object(u.jsx)("span",{className:"ml-2",children:"github "})]})})]})})]})})})},N=a.p+"static/media/boa.4c7e0b20.svg",k=a.p+"static/media/dora.00d834bd.svg",S=a.p+"static/media/neonjs.c9410845.svg";var C=function(){return Object(u.jsxs)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10",children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{className:"italic text-xl mr-1",children:"BET ON"})," is a decentralized application built on top of the NEO blockchain for the COZ \u201cflyby hackathon\u201d. Its purpose is to create a fun blockchain application that demonstrates the wide variety of development tools available to the community allowing developers to create virutally any dApp they can imagine on NEO."]}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["This dApp was created by"," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"meevee98"}),","," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"rssavietto"})," ","and"," ",Object(u.jsx)("a",{className:"text-highlight",href:"#",children:"comountainclimber"}),". And leverages the following open source tools built by COZ:"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"flex justify-evenly flex-wrap",children:[Object(u.jsx)("img",{className:"cursor-pointer",src:N}),Object(u.jsx)("img",{className:"cursor-pointer",src:k}),Object(u.jsx)("img",{className:"cursor-pointer",src:S})]})]})},F=a(12),E=a.n(F),L=a(25),A=a(26),T=o.a.experimental.txHelpers,I=T.addFees,M=T.setBlockExpiry,P="CONNECT",G="CONFIRM ";function B(e){var t=e.handleUpdateStep,a=e.setWif,c=Object(n.useState)(""),r=Object(l.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){i.wallet.isWIF(s)&&(t("BET"),a(s))}),[s,t,a]),Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 1:"}),Object(u.jsxs)("p",{className:"text-left mt-2",children:[" ","Connect your wallet to the daPP by using wallet connect or by entering in your private key below:"," "]}),Object(u.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Enter private key here...",class:"px-3 py-3 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring focus:ring-highlight w-full"})]})}function R(e){var t=e.config,a=e.handleUpdateStep,c=e.passOptionInfo,r=Object(n.useState)([]),s=Object(l.a)(r,2),d=s[0],b=s[1],p=Object(n.useState)(null),m=Object(l.a)(p,2),j=m[0],h=m[1],x=Object(n.useState)(null),f=Object(l.a)(x,2),g=f[0],O=f[1],v=Object(n.useState)(!0),y=Object(l.a)(v,2),w=y[0],N=y[1],k=Object(n.useState)(""),S=Object(l.a)(k,2),C=S[0],F=S[1];function T(e){var t=e.value[0].value;return console.log({data:t}),{name:atob(t[2].value),options:t[3].value.map((function(e){var t=e.value;return{id:t,label:atob(t)}})),id:t[0].value}}function P(){return(P=Object(L.a)(E.a.mark((function e(){var n,r,s,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,n=new i.rpc.RPCClient(t.nodeUrl),r={networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount},(s=new i.sc.ScriptBuilder).emitAppCall(U,"bet",[{type:"Hash160",value:t.fromAccount.scriptHash},{type:"ByteArray",value:j.id},{type:"String",value:g.label}]),(l=new i.tx.Transaction).script=i.u.HexString.fromHex(s.build()),e.next=10,M(l,r);case 10:return l.addSigner({account:t.fromAccount.scriptHash,scopes:"Global"}),e.next=13,I(l,r);case 13:return l.sign(t.fromAccount,t.networkMagic),e.next=16,n.sendRawTransaction(l);case 16:N(!1),a(G),c({poolName:j.name,option:g.label}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),N(!1),console.error({e:e.t0}),F(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(L.a)(E.a.mark((function e(){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,a=new o.a.experimental.SmartContract(o.a.u.HexString.fromHex(U),{networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount}),e.next=5,a.testInvoke("list_on_going_pools",[]);case 5:n=e.sent,c=n.stack.map(T),console.log("getPools() results: ",{results:n,pools:c}),b(c),N(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),N(!1),console.error({e:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 2:"}),w?Object(u.jsx)("p",{className:"mt-5",children:" Submitting data to the blockchain... "}):Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"ADDRESS:"}),Object(u.jsx)("a",{className:"flex text-highlight cursor-pointer text-left mb-5",target:"_blank",href:"https://dora.coz.io/address/neo3/mainnet/".concat(t.fromAccount.address),children:t.fromAccount.address}),Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"BETTING POOL:"}),Object(u.jsx)(A.a,{isSearchable:!1,value:j?{value:j.id,label:j.name}:null,getOptionValue:function(e){return e.id},onChange:function(e){var t=d.find((function(t){return t.name===e.label}));h(t)},placeholder:"Select pool...",options:d.map((function(e){return{value:e.id,label:e.name}}))}),Object(u.jsx)("br",{}),Object(u.jsx)("small",{className:"flex text-left mb-1 text-lightGrey opacity-75",children:"BET:"}),Object(u.jsx)(A.a,{isSearchable:!1,value:g,onChange:function(e){O(e)},placeholder:"Select option...",isDisabled:!j,options:j?j.options:[],getOptionValue:function(e){return e.id}}),C&&Object(u.jsx)("p",{className:"text-red-500 text-sm mt-4",children:C}),Object(u.jsx)("button",{onClick:function(){return P.apply(this,arguments)},disabled:!j&&!g||C,className:"bg-highlight text-white font-bold py-2 px-4 rounded mt-7 disabled:opacity-50 ".concat(j||g?"cursor-pointer":"cursor-not-allowed"),children:"PLACE BET"})]})]})}function z(e){var t=e.config,a=e.selectedOptionInfo;return Object(u.jsxs)("div",{className:"max-w-screen",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-left italic",children:"STEP 3:"}),Object(u.jsxs)("p",{className:"text-left mt-2",children:[Object(u.jsx)("span",{className:"text-3xl",children:"\ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89 \ud83c\udf89"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("a",{className:"text-highlight cursor-pointer text-left mb-5",target:"_blank",href:"https://dora.coz.io/address/neo3/mainnet/".concat(t.fromAccount.address),children:t.fromAccount.address})," ",'has bet on "',a.option,'" for betting pool "',a.poolName,'". Good luck!']})]})}var W=function(){var e=Object(n.useState)(P),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],d=s[1],b=Object(n.useState)({poolName:"",option:""}),p=Object(l.a)(b,2),m=p[0],j=p[1],h={fromAccount:o&&new i.wallet.Account(o),tokenScriptHash:U,amountToTransfer:.1,systemFee:0,networkFee:0,networkMagic:844378958,nodeUrl:"https://testnet1.neo.coz.io"};return Object(u.jsx)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10",children:function(e){switch(!0){case e===P:return Object(u.jsx)(B,{handleUpdateStep:c,setWif:d});case"BET"===e:return Object(u.jsx)(R,{handleUpdateStep:c,config:h,passOptionInfo:function(e){var t=e.poolName,a=e.option;return j({poolName:t,option:a})}});case e===G:return Object(u.jsx)(z,{selectedOptionInfo:m,config:h});default:return Object(u.jsx)(B,{handleUpdateStep:c,setWif:d})}}(a)})};var _=function(){return Object(u.jsx)("div",{className:"max-w-screen-md m-auto bg-mediumGrey p-12 rounded-md mt-10"})},H=[a.p+"static/media/1.bd030e55.jpg",a.p+"static/media/2.d3d44706.jpg",a.p+"static/media/3.ebbe5071.png",a.p+"static/media/4.f6abd800.png"],U="0xa9ab4ea48570270b4c4c9b47a97340f545dfd9a8";var Z=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){o(H[Math.floor(Math.random()*H.length)])}),[a]),Object(u.jsxs)("div",{className:"App bg-darkGrey flex flex-col h-screen justify-between",children:[Object(u.jsxs)(d.a,{children:[Object(u.jsx)("div",{children:Object(u.jsx)(w,{})}),Object(u.jsxs)("main",{className:"mb-auto h-full ".concat(a?"animate-flicker":""),style:a?{backgroundImage:"url("+i+")",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"repeat"}:{},children:[Object(u.jsx)(p,{setInvokeDetected:c}),Object(u.jsx)("div",{children:!a&&Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{path:"/place-bet",children:Object(u.jsx)(W,{})}),Object(u.jsx)(b.a,{path:"/results",children:Object(u.jsx)(_,{})}),Object(u.jsx)(b.a,{path:"/",children:Object(u.jsx)(C,{})})]})})]})]}),Object(u.jsx)(O,{})]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(Z,{})}),document.getElementById("root")),D()}},[[82,1,2]]]);
//# sourceMappingURL=main.85f8904f.chunk.js.map