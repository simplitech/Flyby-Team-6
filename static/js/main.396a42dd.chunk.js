(this["webpackJsonpn3-smart-contract-web-app"]=this["webpackJsonpn3-smart-contract-web-app"]||[]).push([[0],{35:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(29),o=n.n(r),i=(n(35),n(9)),s=n.n(i),j=n(19),b=n(7),d=n(11),l=n.n(d),u=n(13),f=n(2),h=n.p+"static/media/logo.49aa5273.svg",O=n.p+"static/media/1.bd030e55.jpg",p=n.p+"static/media/2.d3d44706.jpg",g=n.p+"static/media/3.ebbe5071.png",x=n.p+"static/media/4.f6abd800.png",m=(n(60),n(1));function v(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(b.a)(r,2),i=o[0],u=o[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),p=O[0],g=O[1],x=Object(c.useState)(!1),v=Object(b.a)(x,2),k=v[0],w=v[1],S="https://testnet1.neo.coz.io",C=Object(f.f)();function y(e){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.a.experimental.SmartContract(l.a.u.HexString.fromHex("0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381"),{networkMagic:t.networkMagic,rpcAddress:t.nodeUrl,account:t.fromAccount}),e.next=3,n.invoke("request_image_change",[]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(j.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new d.wallet.Account(n),c={fromAccount:t,tokenScriptHash:"0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381",amountToTransfer:.1,systemFee:0,networkFee:0,networkMagic:844378958,nodeUrl:S},g(!0),y(c).then((function(){g(!1),C.push("/")})).catch((function(e){console.error(e),g(!1),a(""),u(!1),w(e.message||e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){d.wallet.isWIF(n)&&u(!0)}),[n]),Object(m.jsx)(m.Fragment,{children:p?Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Invoking the smart contract..."})}):i?Object(m.jsx)("button",{onClick:function(){return I.apply(this,arguments)},children:" CLICK TO INVOKE "}):Object(m.jsxs)("form",{children:[k&&Object(m.jsxs)("code",{id:"error",children:[" ",k," "]}),Object(m.jsx)("label",{children:"Enter private key below to invoke contract:"}),Object(m.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text"})]})})}var k=[O,p,g,x];function w(e){var t=e.invokeDetected,n=Object(c.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){o(k[Math.floor(Math.random()*k.length)])}),[t]),Object(m.jsx)("div",{id:"frame-container",children:Object(m.jsx)("div",{id:"frame",children:t&&Object(m.jsx)("img",{className:"animate-flicker ",src:r,id:"hero",alt:"flickering-hero"})})})}var S=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(b.a)(r,2),i=o[0],s=o[1];return Object(c.useEffect)((function(){new WebSocket("wss://dora.coz.io/ws/v1/neo3/testnet/log/0xf9ffa64482b38c0dc7841cf27d25a9f03dfb0381").onmessage=function(e){console.log("incoming socket event:",{event:e});var t=JSON.parse(e.data);a(t.height),t.log&&t.log.notifications.find((function(e){return"ChangeImage"===e.event_name}))&&(s(!0),setTimeout((function(){s(!1)}),1e4))}})),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("a",{href:"https://neo.org",target:"_blank",children:Object(m.jsx)("img",{id:"neo-logo",src:h,alt:"n3-logo"})}),Object(m.jsx)(u.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("nav",{children:[Object(m.jsxs)("code",{children:[" ","websocket connection to dora live: current block height:"," ",n]}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/",children:"View the blockchain powered easal"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/invoke-contract",children:"Invoke Contract"})})]})]}),Object(m.jsxs)(f.c,{children:[Object(m.jsx)(f.a,{path:"/invoke-contract",children:Object(m.jsx)(v,{})}),Object(m.jsx)(f.a,{path:"/",children:Object(m.jsx)(w,{invokeDetected:i})})]})]})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),C()}},[[66,1,2]]]);
//# sourceMappingURL=main.396a42dd.chunk.js.map